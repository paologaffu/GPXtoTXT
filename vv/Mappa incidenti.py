import folium

# Dati: (lat, lon, anno, tipo_incidente)
data = [
    (45.54268, 10.23133, 2012, "Auto"), (45.53931, 10.23163, 2012, "Auto"), (45.53934, 10.23174, 2012, "Auto"),
    (45.53934, 10.23174, 2012, "Ostacolo"), (45.53932, 10.23174, 2012, "Auto"), (45.54276, 10.23135, 2013, "Auto"),
    (45.53991, 10.23167, 2013, "Fuori"), (45.53834, 10.23199, 2013, "Auto"), (45.53934, 10.23174, 2013, "Auto"),
    (45.5384, 10.23191, 2013, "Auto"), (45.53689, 10.23202, 2013, "Auto"), (45.53945, 10.2317, 2014, "Investimento"),
    (45.5365, 10.23193, 2014, "Auto"), (45.53841, 10.23191, 2014, "Auto"), (45.54321, 10.23121, 2014, "Auto"),
    (45.53926, 10.23178, 2014, "Auto"), (45.53939, 10.23171, 2014, "Auto"), (45.54048, 10.23159, 2015, "Investimento"),
    (45.5384, 10.23192, 2015, "Investimento"), (45.5425, 10.23134, 2015, "Auto"), (45.53732, 10.23197, 2015, "Auto"),
    (45.54169, 10.23141, 2015, "Ostacolo"), (45.53735, 10.23185, 2015, "Investimento"), (45.54286, 10.23128, 2015, "Auto"),
    (45.53935, 10.23176, 2015, "Auto"), (45.54171, 10.23153, 2016, "Auto"), (45.54225471, 10.2311038, 2016, "Auto"),
    (45.54266, 10.23126, 2016, "Ostacolo"), (45.53934, 10.23173, 2016, "Auto"), (45.53844, 10.23192, 2016, "Auto"),
    (45.54094, 10.23155, 2016, "Auto"), (45.54267, 10.23132, 2016, "Auto"), (45.54143, 10.23147, 2016, "Auto"),
    (45.53853, 10.23196, 2016, "Auto"), (45.54072, 10.2316, 2017, "Auto"), (45.53934, 10.23174, 2017, "Auto"),
    (45.53991, 10.23166, 2017, "Auto"), (45.53837, 10.23198, 2017, "Auto"), (45.54012581, 10.23164311, 2017, "Ostacolo"),
    (45.53974, 10.23168, 2017, "Auto"), (45.5394, 10.23175, 2017, "Auto"), (45.53991, 10.23166, 2017, "Auto"),
    (45.53841, 10.23182, 2018, "Fuori"), (45.54144, 10.23149, 2018, "Auto"), (45.5384, 10.23187, 2018, "Auto"),
    (45.53935, 10.23174, 2018, "Auto"), (45.53949, 10.23166, 2018, "Auto"), (45.54076, 10.23168, 2018, "Auto"),
    (45.53937, 10.23176, 2018, "Investimento"), (45.53707, 10.23197, 2018, "Auto"), (45.54048, 10.23159, 2018, "Auto"),
    (45.54013, 10.23175, 2018, "Fuori"), (45.53667, 10.23204, 2018, "Auto"), (45.5368, 10.232, 2019, "Auto"),
    (45.54048, 10.23159, 2019, "Investimento"), (45.5376, 10.23191, 2019, "Auto"), (45.53734, 10.23194, 2019, "Investimento"),
    (45.53729, 10.23201, 2019, "Auto"), (45.5378, 10.23192, 2019, "Auto"), (45.53838, 10.23187, 2019, "Auto"),
    (45.54048, 10.23159, 2020, "Investimento"), (45.53705, 10.23192, 2020, "Auto"), (45.53788, 10.23202, 2020, "Auto"),
    (45.53838, 10.23197, 2020, "Auto"), (45.53841, 10.2319, 2020, "Auto"), (45.53841, 10.23188, 2020, "Auto"),
    (45.54309, 10.23124, 2020, "Auto"), (45.5414, 10.23149, 2020, "Auto"), (45.54048, 10.23159, 2021, "Auto"),
    (45.54048, 10.23159, 2021, "Fuori"), (45.54048, 10.23159, 2021, "Auto"), (45.54048, 10.23159, 2021, "Fuori"),
    (45.5373, 10.23199, 2021, "Auto"), (45.53913127, 10.23177059, 2021, "Auto"), (45.53921, 10.23183, 2021, "Auto"),
    (45.53837226, 10.23186052, 2021, "Auto"), (45.53925, 10.23179, 2022, "Auto"), (45.5393351, 10.23174377, 2022, "Ostacolo"),
    (45.54048, 10.23159, 2022, "Ostacolo"), (45.53825, 10.23182, 2022, "Auto"), (45.53913174, 10.23176992, 2022, "Auto"),
    (45.54048, 10.23159, 2022, "Auto"), (45.53937, 10.23172, 2022, "Auto"), (45.54142, 10.2314, 2022, "Ostacolo"),
    (45.53725, 10.23197, 2022, "Auto"), (45.53852, 10.23177, 2023, "Auto"), (45.54048, 10.23159, 2023, "Auto"),
    (45.5404839, 10.2315882, 2023, "Auto"), (45.54048, 10.23159, 2023, "Auto"), (45.5404839, 10.2315882, 2023, "Investimento"),
    (45.54048, 10.23159, 2023, "Auto"), (45.53836, 10.23195, 2023, "Auto"), (45.5384222, 10.23184302, 2023, "Auto"),
    (45.54328, 10.23113, 2023, "Ostacolo"), (45.53933416, 10.2317384, 2023, "Auto"), (45.54003192, 10.23165164, 2024, "Auto"),
    (45.54048, 10.23159, 2024, "Auto"), (45.53936, 10.23175, 2024, "Auto"), (45.53711, 10.23191, 2024, "Ostacolo"),
    (45.54048, 10.23159, 2024, "Investimento")
]

# Crea la mappa di base centrata su Brescia
map_center = [45.53991, 10.23166]
incident_map = folium.Map(location=map_center, zoom_start=15, tiles="OpenStreetMap")  # zoom_start aumentato

# Aggiungi i marker con colore basato sul tipo di incidente (senza MarkerCluster)
from folium.plugins import MarkerCluster

marker_cluster = MarkerCluster().add_to(incident_map)
for lat, lon, year, incident_type in data:
    color = get_color(year)
    folium.Marker(
        location=[lat, lon],
        popup=f"Anno: {year}<br>Tipo: {incident_type}",
        icon=folium.DivIcon(html=f'<div style="background-color:{color}; width: 20px; height: 20px; border-radius: 10px; border: 2px solid black;"></div>')
    ).add_to(marker_cluster)

# Salvataggio della mappa
incident_map.save("mappa_incidenti_no_cluster_zoom_maggiore.html")

print("Mappa creata senza raggruppamento e con zoom maggiore! Apri il file 'mappa_incidenti_no_cluster_zoom_maggiore.html' nel tuo browser per visualizzarla.")
